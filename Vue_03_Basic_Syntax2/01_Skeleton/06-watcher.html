<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <title>Vue</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
  <div id="app">
    <p>{{count}}</p>
    <button @click="count++">증가</button>


    <hr>
    <input type="text" v-model="message">
    <p>{{message}}</p>
    <p>{{messageLength}}</p>
  </div>

  <script>
    const { createApp, ref, watch } = Vue;
    const app = createApp({
      setup() {
        const count = ref(0);


        const countWatch = watch(count, (newValue, oldValue) => {
          console.log("콜백함수 수행 api호출")
          console.log(`old: ${oldValue} -> new : ${newValue}`)
        })

        const message = ref("")
        const messageLength = ref(0)
        const messageWatch = watch(message, (newValue) => {
          messageLength.value = newValue.length
        })






        return {
          count,
          countWatch,
          message,
          messageLength,
          messageWatch
        };
      },
    });

    app.mount("#app");
  </script>
</body>

</html>